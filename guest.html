<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<title>MIDIano</title>
	<!-- <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@600&display=swap" rel="stylesheet"> -->
	
	<link rel="stylesheet" href="./css/CustomStyles.css">
	<link rel="stylesheet" href="./css/PianoMakerNavbar.css"></link>
	<link rel="preload" href="./css/bootstrap.min.css" as="style"  onload="this.rel='stylesheet'">
	<link rel="stylesheet" type="text/css" href='./css/Interface.css'></link>
	<link rel="stylesheet" type="text/css" href='./css/Inputs.css'></link>
	<link rel="stylesheet" type="text/css" href='./css/Settings.css'></link>
	
	
	<!-- lib -->
	<link rel="stylesheet" href="./css/nano.min.css"/> <!-- "https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/themes/nano.min.css"/> -->
	<link rel="stylesheet" type="text/css" href='./css/bootstrap.min.css'></link>
	<link rel="stylesheet" href="./css/bootstrap-theme.min.css"/> <!--"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">-->
	
	
	<!-- <script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js"></script> -->
		<script src="lib/Pickr/pickr.es5.min.js"></script>
	<script src="lib/Base64.js" type="text/javascript"></script>
	<script src="lib/Base64binary.js" type="text/javascript"></script>
	
	<!-- <script type="module" src="js/ui/Loader.js"></script>
	<script type="module" src="js/settings/SettingUI.js"></script>
	<script type="module" src="js/settings/Settings.js"></script>
	<script type="module" src="js/Util.js"></script>
	<script type="module" src="js/MidiLoader.js"></script>
	<script type="module" src="js/SoundfontLoader.js"></script>
	<script type="module" src="js/DomHelper.js"></script>
	<script type="module" src="js/Song.js"></script>
	<script type="module" src="js/CONST.js"></script>
	<script type="module" src="js/ui/UI.js"></script>
	<script type="module" src="js/MidiInputHandler.js"></script>
	<script type="module" src="js/audio/AudioPlayer.js"></script>
	<script type="module" src="js/Player.js"></script>
	<script type="module" src="js/Rendering/RenderUtil.js"></script>
	<script type="module" src="js/Rendering/OverlayRender.js"></script>
	<script type="module" src="js/Rendering/DebugRender.js"></script>
	<script type="module" src="js/Rendering/SustainRenderer.js"></script>
	<script type="module" src="js/Rendering/MeasureLinesRender.js"></script>
	<script type="module" src="js/Rendering/RenderDimensions.js"></script>
	<script type="module" src="js/Rendering/BackgroundRender.js"></script>
	<script type="module" src="js/Rendering/Render.js"></script>
	<script type="module" src="js/Rendering/PianoRender.js"></script>
	<script type="module" src="js/InputListeners.js"></script> -->
	
	
	<script type="module" src="js/main.js" type="text/javascript"></script>
	
	<style data-dynSliderStyle" type="text/css"></style>
	
	<script data-goatcounter="https://midiano.com/count"
        async src="//gc.zgo.at/count.js"></script>
</head>
<body>
<body>
<script>
	// CHARGER LE MIDI DEPUIS L'URL
setTimeout(function() {
    // Lire les paramÃ¨tres URL
    const urlParams = new URLSearchParams(window.location.search);
    const midiUrl = urlParams.get('midi') || urlParams.get('midiurl');
    
    if (midiUrl) {
        console.log('Chargement du MIDI depuis URL:', midiUrl);
        
        // Attendre que le player soit chargÃ©
        const waitForPlayer = setInterval(function() {
            // Chercher le bouton de chargement ou la fonction de chargement
            // (DÃ©pend de ton code, mais gÃ©nÃ©ralement il y a une fonction loadSong ou loadMidi)
            
            if (window.loadSongFromURL) {
                window.loadSongFromURL(midiUrl);
                clearInterval(waitForPlayer);
            } else if (window.Player && window.Player.loadSong) {
                window.Player.loadSong(midiUrl);
                clearInterval(waitForPlayer);
            } else {
                // Essayer de dÃ©clencher le chargement via l'input file
                console.log('Player pas encore prÃªt, on attend...');
            }
        }, 500);
        
        // Timeout aprÃ¨s 10 secondes
        setTimeout(() => clearInterval(waitForPlayer), 10000);
    }
}, 1000);
setTimeout(function() {
    console.log('Blocage du tempo...');
    
    // Bloquer les boutons 11 et 12
    const buttons = document.querySelectorAll('button, .btn');
    const btn11 = buttons[11];
    const btn12 = buttons[12];
    
    if (btn11) {
        btn11.style.opacity = '0.5';
        btn11.style.cursor = 'not-allowed';
        btn11.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopImmediatePropagation();
            alert('ðŸ”’ Login to modify the tempo!');
        }, true);
        console.log('Bouton 11 bloquÃ©');
    }
    
    if (btn12) {
        btn12.style.opacity = '0.5';
        btn12.style.cursor = 'not-allowed';
        btn12.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopImmediatePropagation();
            alert('ðŸ”’ Login to modify the tempo !');
        }, true);
        console.log('Bouton 12 bloquÃ©');
    }
    
    // Bloquer l'input 54
    const inputs = document.querySelectorAll('input');
    const input54 = inputs[54];
    
    if (input54) {
        input54.readOnly = true;
        input54.style.opacity = '0.5';
        input54.style.cursor = 'not-allowed';
        input54.addEventListener('focus', function() {
            this.blur();
            alert('ðŸ”’ Login to modify the tempo !');
        });
        console.log('Input 54 bloquÃ©');
    }
    
}, 2000);
</script>
</body>
</body>
</html>
